{"ast":null,"code":"/*import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport axios from \"axios\";\r\nimport { setUserContext, userContext } from \"./user\";\r\nglobal.usuarioLogeado = require('./user');\r\n\r\nasync function loginUser(credenciales, setUserInfo) {\r\n\r\n  const url = \"http://localhost:8000/api/Usuarios/?search=\" + credenciales.usuario;\r\n  const response = await axios.get(url);\r\n  const data = await response.data;\r\n  \r\n  if(data[0].nombre === credenciales.usuario){ \r\n\r\n    if(data[0].password === credenciales.password){\r\n\r\n      setUserInfo(data[0].nombre);\r\n\r\n    }\r\n    else{\r\n\r\n      alert('Comprueba los datos introducidos');\r\n\r\n    }\r\n  }\r\n  else{\r\n\r\n    alert('Comprueba los datos introducidos');\r\n\r\n  }\r\n}\r\n\r\nexport default function Login() {\r\n\r\n  const userInfo = React.useContext(userContext);\r\n  const setUserInfo = React.useContext(setUserContext);\r\n  \r\n  const [usuario, setUsuario] = React.useState({});\r\n  const [password, setPassword] = React.useState({});\r\n\r\n  console.log(userInfo);\r\n\r\n  const handleLogin = async (e) => {\r\n\r\n    e.preventDefault();\r\n    await loginUser({\r\n\r\n      usuario,\r\n      password,\r\n\r\n    }, setUserInfo);\r\n    \r\n  };\r\n\r\n  if (userInfo != null) {\r\n\r\n    return (\r\n      <div className=\"App container\">\r\n        <div className=\"justify-content-center row\">\r\n          <h1 style={{ color: \"white\" }}>Ya estas logeado</h1>\r\n          <button\r\n            type='button'\r\n            className=\"btn btn-warning\"\r\n            onClick={setUserInfo(null)}\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n    \r\n  }\r\n\r\n  return (\r\n    <div className=\"App container\">\r\n      <div className=\"justify-content-center row\">\r\n        <h1 style={{ color: \"white\" }}>Inicio de sesion</h1>\r\n      </div>\r\n      <Link to=\"/Register\" className=\"nav-item nav-link active\">\r\n        Registro\r\n      </Link>\r\n      <div className=\"justify-content-center row\">\r\n        <form className=\"mt-5\" onSubmit={handleLogin}>\r\n          <label>\r\n            <p>Username</p>\r\n            <input required type=\"text\" onChange={(e) => setUsuario(e.target.value)} />\r\n          </label>\r\n          <label>\r\n            <p>Password</p>\r\n            <input\r\n              required\r\n              type=\"password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </label>\r\n          <div>\r\n            <button type='button' className=\"btn btn-success\" type=\"submit\">\r\n              Iniciar Sesión\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n*/","map":{"version":3,"sources":["C:/Users/pc/Desktop/uni/Proyectos 3/WebMataos/frontend/src/components/Login.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/*import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport axios from \"axios\";\r\nimport { setUserContext, userContext } from \"./user\";\r\nglobal.usuarioLogeado = require('./user');\r\n\r\nasync function loginUser(credenciales, setUserInfo) {\r\n\r\n  const url = \"http://localhost:8000/api/Usuarios/?search=\" + credenciales.usuario;\r\n  const response = await axios.get(url);\r\n  const data = await response.data;\r\n  \r\n  if(data[0].nombre === credenciales.usuario){ \r\n\r\n    if(data[0].password === credenciales.password){\r\n\r\n      setUserInfo(data[0].nombre);\r\n\r\n    }\r\n    else{\r\n\r\n      alert('Comprueba los datos introducidos');\r\n\r\n    }\r\n  }\r\n  else{\r\n\r\n    alert('Comprueba los datos introducidos');\r\n\r\n  }\r\n}\r\n\r\nexport default function Login() {\r\n\r\n  const userInfo = React.useContext(userContext);\r\n  const setUserInfo = React.useContext(setUserContext);\r\n  \r\n  const [usuario, setUsuario] = React.useState({});\r\n  const [password, setPassword] = React.useState({});\r\n\r\n  console.log(userInfo);\r\n\r\n  const handleLogin = async (e) => {\r\n\r\n    e.preventDefault();\r\n    await loginUser({\r\n\r\n      usuario,\r\n      password,\r\n\r\n    }, setUserInfo);\r\n    \r\n  };\r\n\r\n  if (userInfo != null) {\r\n\r\n    return (\r\n      <div className=\"App container\">\r\n        <div className=\"justify-content-center row\">\r\n          <h1 style={{ color: \"white\" }}>Ya estas logeado</h1>\r\n          <button\r\n            type='button'\r\n            className=\"btn btn-warning\"\r\n            onClick={setUserInfo(null)}\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n    \r\n  }\r\n\r\n  return (\r\n    <div className=\"App container\">\r\n      <div className=\"justify-content-center row\">\r\n        <h1 style={{ color: \"white\" }}>Inicio de sesion</h1>\r\n      </div>\r\n      <Link to=\"/Register\" className=\"nav-item nav-link active\">\r\n        Registro\r\n      </Link>\r\n      <div className=\"justify-content-center row\">\r\n        <form className=\"mt-5\" onSubmit={handleLogin}>\r\n          <label>\r\n            <p>Username</p>\r\n            <input required type=\"text\" onChange={(e) => setUsuario(e.target.value)} />\r\n          </label>\r\n          <label>\r\n            <p>Password</p>\r\n            <input\r\n              required\r\n              type=\"password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </label>\r\n          <div>\r\n            <button type='button' className=\"btn btn-success\" type=\"submit\">\r\n              Iniciar Sesión\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n*/"]},"metadata":{},"sourceType":"module"}